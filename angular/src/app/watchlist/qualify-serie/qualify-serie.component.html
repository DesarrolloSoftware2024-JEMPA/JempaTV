<div class="container">
  <div class="serie_container" *ngIf="this.serie !== null">
    <div class="serie-card">
      <img [src]="this.serie.poster" [alt]="serie.title" class="img-fluid serie-poster" />
    </div>
    <div class="serie-details">
      
      <h3 class="serie-title">{{ serie.title }}</h3>
      <div>
        <p class="serie-year tag">{{ serie.year }}</p>
      </div>
      <b>Trama:</b>
      <h6 class="serie-plot">{{ serie.plot }}</h6>
      <b>Actores:</b>
      <h6 class="serie-plot">{{ serie.actors }}</h6>
    </div>
  </div>
  <div class="form_container" (abpInit)="this.getCalificationFromSerie(this.idSerie)">
    <h4 class="form_title"> ¿Que te pareció? </h4>
    <form [formGroup]="formulario" (submit)="onSubmit()" class="form">
      <div class="inputs">
        <label for="">Tu puntuación:</label>
        <div class="form_input stars">
          <div *ngFor="let star of stars">
            <h4 class="star"><i
              class="fas fa-star"
              (click)="setRating(star)"
              (mouseenter)="enter(star)"
              (mouseleave)="leave()"
              [ngClass]="{
                'filled': star <= (hovered || rating),
                'empty': star >  (hovered || rating)
              }"
            ></i></h4>
          </div>
        </div>

        <div class="form_input">
          <label for="">Comentario:</label>
          <div class="form_error">
            <input
              *ngIf="this.calification === null"
              id="comentario"
              type="text"
              formControlName="comentario"
              class="text"
            />
            <input
              *ngIf="this.calification !== null"
              id="comentario"
              type="text"
              formControlName="comentario"
              [value]="this.calification.comentario"
              class="text"
            />
            <div
              *ngIf="formulario.get('comentario').invalid && formulario.get('comentario').touched"
              class="invalid-feedback"
            ></div>
          </div>
        </div>
      </div>
      <button type="submit" class="form_btn" [disabled]="formulario.invalid">Calificar</button>
    </form>
  </div>
</div>
